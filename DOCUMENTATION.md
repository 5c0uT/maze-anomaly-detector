# 3D Maze Generator and Anomaly Detector

–ü—Ä–æ–µ–∫—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö 3D-–ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤ –∏ –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤ –≤ 3D-–º–æ–¥–µ–ª—è—Ö. –°–∏—Å—Ç–µ–º–∞ –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç Python-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω—ã–º–∏ C++ –º–æ–¥—É–ª—è–º–∏ –¥–ª—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

---

## –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞
**3D Maze Generator and Anomaly Detector** –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Å–ª–æ–∂–Ω—ã—Ö 3D-–ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤ —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏
- –§–∏–∑–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—É—Ç–µ–π
- –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤ –≤ 3D-–º–æ–¥–µ–ª—è—Ö (—Å–∞–º–æ–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏—è)
- –°–æ–∑–¥–∞–Ω–∏—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã—Ö –æ—Ç—á–µ—Ç–æ–≤ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–π

### –ö–ª—é—á–µ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏:
- üåÄ –ü–∞—Ä–∞–º–µ—Ç—Ä–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è 3D-–ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤
- üîç –î–µ—Ç–µ–∫—Ü–∏—è —Å–∞–º–æ–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π –∏ –≥–µ–æ–º–µ—Ç—Ä–∏—á–µ—Å–∫–∏—Ö –∞–Ω–æ–º–∞–ª–∏–π
- ‚öôÔ∏è –§–∏–∑–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—É—Ç–µ–π
- üìä –ê–Ω–∞–≥–ª–∏—Ñ–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
- üìù –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è HTML-–æ—Ç—á–µ—Ç–æ–≤
- üì§ –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç GLTF

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã
### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:
```
    A[–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å] --> B[Python CLI]
    B --> C[–ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤]
    B --> D[–î–µ—Ç–µ–∫—Ç–æ—Ä –¥–µ—Ñ–µ–∫—Ç–æ–≤]
    C --> E[C++ –Ø–¥—Ä–æ]
    D --> E[C++ –Ø–¥—Ä–æ]
    E --> F[PhysX/OpenCASCADE]
```

### –ü—Ä–∏–Ω—Ü–∏–ø—ã —Ä–∞–±–æ—Ç—ã:
1. **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞**:
   - –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è 3D —Å–µ—Ç–∫–∏
   - –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –æ—Å–Ω–æ–≤–Ω–æ–≥–æ –ø—Ä–æ—Ö–æ–¥–∞ (–∞–ª–≥–æ—Ä–∏—Ç–º —Ä–µ–∫—É—Ä—Å–∏–≤–Ω–æ–≥–æ –¥–µ–ª–µ–Ω–∏—è)
   - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å–ª—É—á–∞–π–Ω—ã—Ö –æ—Ç–≤–µ—Ç–≤–ª–µ–Ω–∏–π
   - –§–∏–∑–∏—á–µ—Å–∫–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
   - –ö–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –≤ –ø–æ–ª–∏–≥–æ–Ω–∞–ª—å–Ω—É—é —Å–µ—Ç–∫—É (Marching Cubes)
   - –≠–∫—Å–ø–æ—Ä—Ç –≤ GLTF

2. **–î–µ—Ç–µ–∫—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤**:
   - –ó–∞–≥—Ä—É–∑–∫–∞ 3D-–º–æ–¥–µ–ª–∏ (STL/OBJ/GLTF)
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–æ–¥–æ–Ω–µ–ø—Ä–æ–Ω–∏—Ü–∞–µ–º–æ—Å—Ç–∏ –º–æ–¥–µ–ª–∏
   - –ü–æ–∏—Å–∫ —Å–∞–º–æ–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π:
     - Ray-casting –¥–ª—è –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è –ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
     - –ê–Ω–∞–ª–∏–∑ –Ω–æ—Ä–º–∞–ª–µ–π —Å–æ—Å–µ–¥–Ω–∏—Ö –ø–æ–ª–∏–≥–æ–Ω–æ–≤
     - –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–π
   - –ê–Ω–∞–≥–ª–∏—Ñ–Ω–∞—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
   - –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á–µ—Ç–∞

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–∏—Å—Ç–µ–º–µ:
- **–û–°**: Windows 10/11 (x64)
- **–ü–∞–º—è—Ç—å**: 8 –ì–ë+ –û–ó–£
- **–ü–û**:
  - Python 3.8+
  - Visual Studio 2022 (—Å C++ CMake tools)
  - CMake 3.15+

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞:
```
git clone https://github.com/5c0uT/maze-anomaly-detector.git
cd maze-anomaly-detector
setup.bat
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏:
```
python scripts\check_imports.py
```
–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```
‚úÖ maze_core —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
‚úÖ physics_core —É—Å–ø–µ—à–Ω–æ –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω
```

---

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
### MazeGenerator
–ö–ª–∞—Å—Å –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ 3D-–ª–∞–±–∏—Ä–∏–Ω—Ç–æ–≤

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
```
from maze.generator import MazeGenerator

generator = MazeGenerator(width=50, height=50, depth=50, cell_size=1.0)
```

**–ú–µ—Ç–æ–¥—ã**:
| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|-----------------------|----------|
| `generate` | - | `np.ndarray` | –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–∫—Å–µ–ª—å–Ω–æ–π —Å–µ—Ç–∫–∏ –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ |
| `find_path` | `start: tuple`, `end: tuple` | `List[tuple]` | –ü–æ–∏—Å–∫ –ø—É—Ç–∏ –º–µ–∂–¥—É —Ç–æ—á–∫–∞–º–∏ |

### DefectAnalyzer
–ö–ª–∞—Å—Å –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ 3D-–º–æ–¥–µ–ª–µ–π –Ω–∞ –¥–µ—Ñ–µ–∫—Ç—ã

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
```
from detector.analyzer import DefectAnalyzer

analyzer = DefectAnalyzer(tolerance=0.001)
```

**–ú–µ—Ç–æ–¥—ã**:
| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|-----------------------|----------|
| `analyze` | `model_path: str` | `dict` | –ê–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–∏ –Ω–∞ –¥–µ—Ñ–µ–∫—Ç—ã |
| `calculate_volume` | `mesh: Trimesh` | `float` | –†–∞—Å—á–µ—Ç –æ–±—ä–µ–º–∞ –º–æ–¥–µ–ª–∏ |

### PhysicsValidator
–ö–ª–∞—Å—Å –¥–ª—è —Ñ–∏–∑–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –ø—É—Ç–µ–π

**–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è**:
```
from validator import PhysicsValidator

validator = PhysicsValidator(cell_size=1.0)
```

**–ú–µ—Ç–æ–¥—ã**:
| –ú–µ—Ç–æ–¥ | –ü–∞—Ä–∞–º–µ—Ç—Ä—ã | –í–æ–∑–≤—Ä–∞—â–∞–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|-----------|-----------------------|----------|
| `validate` | `grid: np.ndarray`, `start: tuple`, `end: tuple` | `bool` | –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–æ—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –ø—É—Ç–∏ |

---

## –†–∞–±–æ—Ç–∞ —Å CLI
### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
```
python generate_maze.py --size 50x50x50 --cell 1.5 --output maze.gltf
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `--size`: –†–∞–∑–º–µ—Ä—ã –ª–∞–±–∏—Ä–∏–Ω—Ç–∞ (—à–∏—Ä–∏–Ω–∞ x –≤—ã—Å–æ—Ç–∞ x –≥–ª—É–±–∏–Ω–∞)
- `--cell`: –†–∞–∑–º–µ—Ä —è—á–µ–π–∫–∏ –≤ –º–µ—Ç—Ä–∞—Ö
- `--output`: –ü—É—Ç—å –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è GLTF-—Ñ–∞–π–ª–∞

### –î–µ—Ç–µ–∫—Ü–∏—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
```
python detect_defects.py model.stl --tolerance 0.005 --visualize defects.jpg --report report.html
```
**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã**:
- `model`: –ü—É—Ç—å –∫ 3D-–º–æ–¥–µ–ª–∏ (STL, OBJ, GLTF)
- `--tolerance`: –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ—Ç–µ–∫—Ç–æ—Ä–∞ (0.001-0.1)
- `--visualize`: –§–∞–π–ª –¥–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- `--report`: HTML-–æ—Ç—á–µ—Ç —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

---

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
```
from maze.generator import MazeGenerator
from validator import PhysicsValidator

# –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –ª–∞–±–∏—Ä–∏–Ω—Ç–∞
generator = MazeGenerator(30, 30, 30, 1.0)
grid = generator.generate()

# –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—É—Ç–∏
validator = PhysicsValidator(1.0)
is_valid = validator.validate(grid, start=(0,0,0), end=(29,29,29))
print(f"–ü—É—Ç—å {'–≤–∞–ª–∏–¥–µ–Ω' if is_valid else '–Ω–µ–≤–∞–ª–∏–¥–µ–Ω'}")
```

### –ê–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–∏ –Ω–∞ –¥–µ—Ñ–µ–∫—Ç—ã
```
from detector.analyzer import DefectAnalyzer

# –ê–Ω–∞–ª–∏–∑ –º–æ–¥–µ–ª–∏
analyzer = DefectAnalyzer(tolerance=0.005)
results = analyzer.analyze("model.stl")

# –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
print(f"–ù–∞–π–¥–µ–Ω–æ –¥–µ—Ñ–µ–∫—Ç–æ–≤: {len(results['intersections']}")
print(f"–û–±—ä–µ–º –º–æ–¥–µ–ª–∏: {analyzer.calculate_volume(results['mesh'])}")
```

---

## –§–æ—Ä–º–∞—Ç—ã –¥–∞–Ω–Ω—ã—Ö
### –í–æ–∫—Å–µ–ª—å–Ω–∞—è —Å–µ—Ç–∫–∞
```
# 3D –º–∞—Å—Å–∏–≤ boolean –∑–Ω–∞—á–µ–Ω–∏–π
# True - –ø—Ä–æ—Ö–æ–¥, False - —Å—Ç–µ–Ω–∞
grid = np.ndarray((depth, height, width), dtype=bool)
```

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –¥–µ—Ç–µ–∫—Ü–∏–∏ –¥–µ—Ñ–µ–∫—Ç–æ–≤
```
{
    "intersections": np.array([[x1, y1, z1], ...]),  # –¢–æ—á–∫–∏ —Å–∞–º–æ–ø–µ—Ä–µ—Å–µ—á–µ–Ω–∏–π
    "mesh": Trimesh  # –û–±—ä–µ–∫—Ç 3D-–º–æ–¥–µ–ª–∏
}
```
